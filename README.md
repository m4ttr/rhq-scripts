#RHQ-Scripts

## Deployment Automation and Notification Using Drift Dection in RHQ JBoss Operations Network(JON)

Setup Deployment automation using these scripts within your CI server or Git Hooks.
The emails alerts generated by RHQ arn't very customizable.  with emailDeploy.js we generate our own.

#### Prerequisites ####
Setup capatibility groups containing the JVM being deployed to. 
Use GitHooks or CI Server to kickoff deployToGroup.js


###Usage:###
> rhq-remoting-cli/bin/rhq-cli.sh -f deployToGroup.js (application.war|application.ear) <groupName>
Extract the Implementation-Version number from META-INF/MANIFEST.MF and deploy the application to <groupName>
The Implemntation-Version number will be deployed into JON and an email notification will be sent on behalf of emailDeploy.js

> emailDeploy.js 
Configured as a CLI Notification for drift defintions setup as deployment notifications.

> rhq-remoting-cli/bin/rhq-cli.sh -f createAppDriftforDeploy.js <group>
Creats definitions for deployed ear or war files in JBossAS5 JVMs.

> rhq-remoting-cli/bin/rhq-cli.sh -f deployToGroup.js

> rhq-remoting-cli/bin/rhq-cli.sh -f deleteDrifts.js <searchTerm>
Delete drift definitions by searchTerm
